{"ast":null,"code":"var _jsxFileName = \"/home/nanaji/Myworks/frtd_cricket/src/components/Team.js\";\nimport React, { Component } from \"react\";\nimport TeamComponent from \"./TeamComponent\";\n\nclass Team extends Component {\n  constructor() {\n    super();\n\n    this.getCookie = name => {\n      var cookieValue = null;\n\n      if (document.cookie && document.cookie !== '') {\n        var cookies = document.cookie.split(';');\n\n        for (var i = 0; i < cookies.length; i++) {\n          var cookie = cookies[i].trim(); // Does this cookie string begin with the name we want?\n\n          if (cookie.substring(0, name.length + 1) === name + '=') {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n\n      return cookieValue;\n    };\n\n    this.fetchTeams = () => {\n      fetch(\"http://127.0.0.1:8000/team/\").then(res => res.json()).then(data => {\n        this.setState({\n          teamsData: data\n        });\n        this.setState({\n          dataLoaded: true\n        });\n      });\n    };\n\n    this.handleChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      let csrftoken = this.getCookie(\"csrftoken\");\n      let team_name = this.state.team_name;\n      let team_rank = this.state.team_rank;\n      fetch(\"http://127.0.0.1:8000/team/\", {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          \"X-CSRFToken\": csrftoken\n        },\n        body: JSON.stringify({\n          team_name: team_name,\n          team_rank: team_rank\n        })\n      }).then(res => {\n        console.log(res);\n        this.fetchTeams();\n        this.setState({\n          team_name: \"\"\n        });\n        this.setState({\n          team_rank: \"\"\n        });\n      }).catch(error => console.log(error));\n    };\n\n    this.handleEdit = event => {\n      console.log(event);\n    };\n\n    this.state = {\n      teamsData: [],\n      dataLoaded: false,\n      team_name: \"\",\n      team_rank: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.fetchTeams();\n  }\n\n  render() {\n    const teamDataDisplay = this.state.dataLoaded && this.state.teamsData.map(data => /*#__PURE__*/React.createElement(TeamComponent, {\n      key: data.id,\n      data: data,\n      handleEdit: this.handleEdit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"team\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mb-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, !this.state.dataLoaded ? /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 48\n      }\n    }, \"Loading...\") : teamDataDisplay), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"my-form\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group m-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control col-4\",\n      id: \"formGroupExampleInput\",\n      placeholder: \"team name\",\n      name: \"team_name\",\n      value: this.state.team_name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group m-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control col-4\",\n      id: \"formGroupExampleInput\",\n      placeholder: \"team rank\",\n      name: \"team_rank\",\n      value: this.state.team_rank,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary m-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }\n    }, \"Submit\")));\n  }\n\n}\n\nexport default Team;","map":{"version":3,"sources":["/home/nanaji/Myworks/frtd_cricket/src/components/Team.js"],"names":["React","Component","TeamComponent","Team","constructor","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","fetchTeams","fetch","then","res","json","data","setState","teamsData","dataLoaded","handleChange","event","value","target","handleSubmit","preventDefault","csrftoken","team_name","state","team_rank","method","headers","body","JSON","stringify","console","log","catch","error","handleEdit","componentDidMount","render","teamDataDisplay","map","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport TeamComponent from \"./TeamComponent\";\n\nclass Team extends Component\n{\n    constructor()\n    {\n        super();\n        this.state = {\n            teamsData: [],\n            dataLoaded: false,\n            team_name: \"\",\n            team_rank: \"\",\n        };\n    }\n\n    getCookie = (name) => \n    {\n        var cookieValue = null;\n        if (document.cookie && document.cookie !== '')\n        {\n            var cookies = document.cookie.split(';');\n            for (var i = 0; i < cookies.length; i++)\n            {\n                var cookie = cookies[i].trim();\n                // Does this cookie string begin with the name we want?\n                if (cookie.substring(0, name.length + 1) === (name + '='))\n                {\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                    break;\n                }\n            }\n        }\n        return cookieValue;\n    };\n\n    componentDidMount ()\n    {\n        this.fetchTeams();\n    }\n\n    fetchTeams = () =>\n    {\n        fetch(\"http://127.0.0.1:8000/team/\")\n            .then(res => res.json())\n            .then(data =>\n            {\n                this.setState({ teamsData: data });\n                this.setState({ dataLoaded: true });\n            });\n    };\n\n    handleChange = (event) =>\n    {\n        const { name, value } = event.target;\n        this.setState({ [name]: value });\n    };\n\n    handleSubmit = (event) =>\n    {\n        event.preventDefault();\n        let csrftoken = this.getCookie(\"csrftoken\");\n        let team_name = this.state.team_name;\n        let team_rank = this.state.team_rank;\n        fetch(\"http://127.0.0.1:8000/team/\", {\n            method: \"POST\",\n            headers: {\n                \"Content-type\": \"application/json\",\n                \"X-CSRFToken\": csrftoken\n            },\n            body: JSON.stringify({ team_name: team_name, team_rank: team_rank })\n        })\n            .then(res =>\n            {\n                console.log(res);\n                this.fetchTeams();\n                this.setState({ team_name: \"\" });\n                this.setState({ team_rank: \"\" });\n            })\n            .catch(error => console.log(error));\n\n    };\n\n    handleEdit = (event) => {\n        console.log(event)\n    }\n\n\n    render ()\n    {\n        const teamDataDisplay = this.state.dataLoaded && this.state.teamsData.map(data =>\n            <TeamComponent key={ data.id } data={ data } handleEdit={this.handleEdit} />\n        );\n        return (\n\n            <div id=\"team\">\n                <div className=\"container mb-10\">\n                    { !this.state.dataLoaded ? <h1>Loading...</h1> : teamDataDisplay }\n                </div>\n                <form id=\"my-form\" onSubmit={ this.handleSubmit }>\n                    <div className=\"form-group m-1\">\n                        <input type=\"text\" className=\"form-control col-4\"\n                            id=\"formGroupExampleInput\" placeholder=\"team name\"\n                            name=\"team_name\" value={ this.state.team_name }\n                            onChange={ this.handleChange }\n                        />\n                    </div>\n                    <div className=\"form-group m-1\">\n                        <input type=\"number\" className=\"form-control col-4\"\n                            id=\"formGroupExampleInput\" placeholder=\"team rank\"\n                            name=\"team_rank\" value={ this.state.team_rank }\n                            onChange={ this.handleChange }\n                        />\n                    </div>\n                    <button className=\"btn btn-primary m-1\">Submit</button>\n                </form>\n\n            </div>\n        );\n    }\n}\n\nexport default Team;"]},"metadata":{},"sourceType":"module"}